/*! Colorbox 1.6.4 - Patched by github.com/gtbu 9-2025 license: MIT http://www.jacklmoore.com/colorbox Summary of Changes : github.com/gtbu 9/2025 escapeHtml function: Your escapeHtml function is correct and has been retained. title and html: The title and html settings are now sanitized in the prep and load functions respectively, before being passed to .html(). Internationalization Strings: The current, previous, next, and close strings are now sanitized with escapeHtml before being used to create the UI. Slideshow Controls: The slideshowStart and slideshowStop strings are also sanitized. Error Messages: The imgError and xhrError messages are sanitized to prevent XSS through error conditions. */
!function(t,e,i){var n,o,r,h,a,s,l,d,c,g,u,p,f,m,w,v,x,y,b,T,C,H,k,W,E,I,M,L,S,F,R,K,P,B={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return t(this).attr("href")},title:function(){return this.title},createImg:function(){var e=new Image,i=t(this).data("cbox-img-attrs");return"object"==typeof i&&t.each(i,(function(t,i){e[t]=i})),e},createIframe:function(){var i=e.createElement("iframe"),n=t(this).data("cbox-iframe-attrs");return"object"==typeof n&&t.each(n,(function(t,e){i[t]=e})),"frameBorder"in i&&(i.frameBorder=0),"allowTransparency"in i&&(i.allowTransparency="true"),i.name=(new Date).getTime(),i.allowFullscreen=!0,i}},O="colorbox",_="cbox",j=_+"Element",D=_+"_open",N=_+"_load",q=_+"_complete",z=_+"_cleanup",A=_+"_closed",U=_+"_purge",$=t({}),G="div",Q=0,J={};function V(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function X(i,n,o){var r=e.createElement(i);return n&&(r.id=_+n),o&&(r.style.cssText=o),t(r)}function Y(){return i.innerHeight?i.innerHeight:t(i).height()}function Z(e,i){i!==Object(i)&&(i={}),this.cache={},this.el=e,this.value=function(e){var n;return void 0===this.cache[e]&&(void 0!==(n=t(this.el).attr("data-cbox-"+e))?this.cache[e]=n:void 0!==i[e]?this.cache[e]=i[e]:void 0!==B[e]&&(this.cache[e]=B[e])),this.cache[e]},this.get=function(e){var i=this.value(e);return t.isFunction(i)?i.call(this.el,this):i}}function tt(t){var e=c.length,i=(I+t)%e;return i<0?e+i:i}function et(t,e){return Math.round((/%/.test(t)?("x"===e?g.width():Y())/100:1)*parseInt(t,10))}function it(t,e){return t.get("photo")||t.get("photoRegex").test(e)}function nt(t,e){return t.get("retinaUrl")&&i.devicePixelRatio>1?e.replace(t.get("photoRegex"),t.get("retinaSuffix")):e}function ot(t){"contains"in o[0]&&!o[0].contains(t.target)&&t.target!==n[0]&&(t.stopPropagation(),o.focus())}function rt(t){rt.str!==t&&(o.add(n).removeClass(rt.str).addClass(t),rt.str=t)}function ht(i){t(e).trigger(i),$.triggerHandler(i)}var at=function(){var t,e,i=_+"Slideshow_",n="click."+_;function r(){clearTimeout(e)}function h(){(C.get("loop")||c[I+1])&&(r(),e=setTimeout(K.next,C.get("slideshowSpeed")))}function a(){v.html(V(C.get("slideshowStop"))).unbind(n).one(n,s),$.bind(q,h).bind(N,r),o.removeClass(i+"off").addClass(i+"on")}function s(){r(),$.unbind(q,h).unbind(N,r),v.html(V(C.get("slideshowStart"))).unbind(n).one(n,(function(){K.next(),a()})),o.removeClass(i+"on").addClass(i+"off")}function l(){t=!1,v.hide(),r(),$.unbind(q,h).unbind(N,r),o.removeClass(i+"off "+i+"on")}return function(){t?C.get("slideshow")||($.unbind(z,l),l()):C.get("slideshow")&&c[1]&&(t=!0,$.one(z,l),C.get("slideshowAuto")?a():s(),v.show())}}();function st(r){var g,w;if(!F){if(g=t(r).data(O),C=new Z(r,g),w=C.get("rel"),I=0,w&&!1!==w&&"nofollow"!==w?(c=t("."+j).filter((function(){return new Z(this,t.data(this,O)).get("rel")===w})),-1===(I=c.index(C.el))&&(c=c.add(C.el),I=c.length-1)):c=t(C.el),!L){L=S=!0,rt(C.get("className")),o.css({visibility:"hidden",display:"block",opacity:""}),u=X(G,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),h.css({width:"",height:""}).append(u),H=a.height()+d.height()+h.outerHeight(!0)-h.height(),k=s.width()+l.width()+h.outerWidth(!0)-h.width(),W=u.outerHeight(!0),E=u.outerWidth(!0);var v=et(C.get("initialWidth"),"x"),x=et(C.get("initialHeight"),"y"),y=C.get("maxWidth"),P=C.get("maxHeight");C.w=Math.max((!1!==y?Math.min(v,et(y,"x")):v)-E-k,0),C.h=Math.max((!1!==P?Math.min(x,et(P,"y")):x)-W-H,0),u.css({width:"",height:C.h}),K.position(),ht(D),C.get("onOpen"),T.add(m).hide(),o.focus(),C.get("trapFocus")&&e.addEventListener&&(e.addEventListener("focus",ot,!0),$.one(A,(function(){e.removeEventListener("focus",ot,!0)}))),C.get("returnFocus")&&$.one(A,(function(){t(C.el).focus()}))}var B=parseFloat(C.get("opacity"));n.css({opacity:B==B?B:"",cursor:C.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),C.get("closeButton")?b.html(V(C.get("close"))).appendTo(h):b.appendTo("<div/>"),function(){var e,n,o,r=K.prep,h=++Q;S=!0,M=!1,ht(U),ht(N),C.get("onLoad"),C.h=C.get("height")?et(C.get("height"),"y")-W-H:C.get("innerHeight")&&et(C.get("innerHeight"),"y"),C.w=C.get("width")?et(C.get("width"),"x")-E-k:C.get("innerWidth")&&et(C.get("innerWidth"),"x"),C.mw=C.w,C.mh=C.h,C.get("maxWidth")&&(C.mw=et(C.get("maxWidth"),"x")-E-k,C.mw=C.w&&C.w<C.mw?C.w:C.mw);C.get("maxHeight")&&(C.mh=et(C.get("maxHeight"),"y")-W-H,C.mh=C.h&&C.h<C.mh?C.h:C.mh);if(e=C.get("href"),R=setTimeout((function(){f.show()}),100),C.get("inline")){var a=t(e).eq(0);o=t("<div>").hide().insertBefore(a),$.one(U,(function(){o.replaceWith(a)})),r(a)}else C.get("iframe")?r(" "):C.get("html")?r(V(C.get("html"))):it(C,e)?(e=nt(C,e),M=C.get("createImg"),t(M).addClass(_+"Photo").bind("error."+_,(function(){r(X(G,"Error").html(V(C.get("imgError"))))})).one("load",(function(){h===Q&&setTimeout((function(){var e;C.get("retinaImage")&&i.devicePixelRatio>1&&(M.height=M.height/i.devicePixelRatio,M.width=M.width/i.devicePixelRatio),C.get("scalePhotos")&&(n=function(){M.height-=M.height*e,M.width-=M.width*e},C.mw&&M.width>C.mw&&(e=(M.width-C.mw)/M.width,n()),C.mh&&M.height>C.mh&&(e=(M.height-C.mh)/M.height,n())),C.h&&(M.style.marginTop=Math.max(C.mh-M.height,0)/2+"px"),c[1]&&(C.get("loop")||c[I+1])&&(M.style.cursor="pointer",t(M).bind("click."+_,(function(){K.next()}))),M.style.width=M.width+"px",M.style.height=M.height+"px",r(M)}),1)})),M.src=e):e&&p.load(e,C.get("data"),(function(e,i){h===Q&&r("error"===i?X(G,"Error").html(V(C.get("xhrError"))):t(this).contents())}))}()}}function lt(){o||(P=!1,g=t(i),o=X(G).attr({id:O,class:!1===t.support.opacity?_+"IE":"",role:"dialog",tabindex:"-1"}).hide(),n=X(G,"Overlay").hide(),f=t([X(G,"LoadingOverlay")[0],X(G,"LoadingGraphic")[0]]),r=X(G,"Wrapper"),h=X(G,"Content").append(m=X(G,"Title"),w=X(G,"Current"),y=t('<button type="button"/>').attr({id:_+"Previous"}),x=t('<button type="button"/>').attr({id:_+"Next"}),v=t('<button type="button"/>').attr({id:_+"Slideshow"}),f),b=t('<button type="button"/>').attr({id:_+"Close"}),r.append(X(G).append(X(G,"TopLeft"),a=X(G,"TopCenter"),X(G,"TopRight")),X(G,!1,"clear:left").append(s=X(G,"MiddleLeft"),h,l=X(G,"MiddleRight")),X(G,!1,"clear:left").append(X(G,"BottomLeft"),d=X(G,"BottomCenter"),X(G,"BottomRight"))).find("div div").css({float:"left"}),p=X(G,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),T=x.add(y).add(w).add(v)),e.body&&!o.parent().length&&t(e.body).append(n,o.append(r,p))}function dt(){function i(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),st(this))}return!!o&&(P||(P=!0,x.click((function(){K.next()})),y.click((function(){K.prev()})),b.click((function(){K.close()})),n.click((function(){C.get("overlayClose")&&K.close()})),t(e).bind("keydown."+_,(function(t){var e=t.keyCode;L&&C.get("escKey")&&27===e&&(t.preventDefault(),K.close()),L&&C.get("arrowKey")&&c[1]&&!t.altKey&&(37===e?(t.preventDefault(),y.click()):39===e&&(t.preventDefault(),x.click()))})),t.isFunction(t.fn.on)?t(e).on("click."+_,"."+j,i):t("."+j).live("click."+_,i)),!0)}t[O]||(t(lt),(K=t.fn[O]=t[O]=function(e,i){var n=this;return e=e||{},t.isFunction(n)&&(n=t("<a/>"),e.open=!0),n[0]?(lt(),dt()&&(i&&(e.onComplete=i),n.each((function(){var i=t.data(this,O)||{};t.data(this,O,t.extend(i,e))})).addClass(j),new Z(n[0],e).get("open")&&st(n[0])),n):n}).position=function(e,i){var n,c,u,p=0,f=0,m=o.offset();function w(){a[0].style.width=d[0].style.width=h[0].style.width=parseInt(o[0].style.width,10)-k+"px",h[0].style.height=s[0].style.height=l[0].style.height=parseInt(o[0].style.height,10)-H+"px"}if(g.unbind("resize."+_),o.css({top:-9e4,left:-9e4}),c=g.scrollTop(),u=g.scrollLeft(),C.get("fixed")?(m.top-=c,m.left-=u,o.css({position:"fixed"})):(p=c,f=u,o.css({position:"absolute"})),!1!==C.get("right")?f+=Math.max(g.width()-C.w-E-k-et(C.get("right"),"x"),0):!1!==C.get("left")?f+=et(C.get("left"),"x"):f+=Math.round(Math.max(g.width()-C.w-E-k,0)/2),!1!==C.get("bottom")?p+=Math.max(Y()-C.h-W-H-et(C.get("bottom"),"y"),0):!1!==C.get("top")?p+=et(C.get("top"),"y"):p+=Math.round(Math.max(Y()-C.h-W-H,0)/2),o.css({top:m.top,left:m.left,visibility:"visible"}),r[0].style.width=r[0].style.height="9999px",n={width:C.w+E+k,height:C.h+W+H,top:p,left:f},e){var v=0;t.each(n,(function(t){n[t]===J[t]||(v=e)})),e=v}J=n,e||o.css(n),o.dequeue().animate(n,{duration:e||0,complete:function(){w(),S=!1,r[0].style.width=C.w+E+k+"px",r[0].style.height=C.h+W+H+"px",C.get("reposition")&&setTimeout((function(){g.bind("resize."+_,K.position)}),1),t.isFunction(i)&&i()},step:w})},K.resize=function(t){var e;L&&((t=t||{}).width&&(C.w=et(t.width,"x")-E-k),t.innerWidth&&(C.w=et(t.innerWidth,"x")),u.css({width:C.w}),t.height&&(C.h=et(t.height,"y")-W-H),t.innerHeight&&(C.h=et(t.innerHeight,"y")),t.innerHeight||t.height||(e=u.scrollTop(),u.css({height:"auto"}),C.h=u.height()),u.css({height:C.h}),e&&u.scrollTop(e),K.position("none"===C.get("transition")?0:C.get("speed")))},K.prep=function(i){if(L){var n,r="none"===C.get("transition")?0:C.get("speed");u.remove(),(u=X(G,"LoadedContent").append(i)).hide().appendTo(p.show()).css({width:(C.w=C.w||u.width(),C.w=C.mw&&C.mw<C.w?C.mw:C.w,C.w),overflow:C.get("scrolling")?"auto":"hidden"}).css({height:(C.h=C.h||u.height(),C.h=C.mh&&C.mh<C.h?C.mh:C.h,C.h)}).prependTo(h),p.hide(),t(M).css({float:"none"}),rt(C.get("className")),n=function(){var i,n,h=c.length;function a(){!1===t.support.opacity&&o[0].style.removeAttribute("filter")}L&&(n=function(){clearTimeout(R),f.hide(),ht(q),C.get("onComplete")},m.html(V(C.get("title"))).show(),u.show(),h>1?("string"==typeof C.get("current")&&w.html(V(C.get("current")).replace("{current}",I+1).replace("{total}",h)).show(),x[C.get("loop")||I<h-1?"show":"hide"]().html(V(C.get("next"))),y[C.get("loop")||I?"show":"hide"]().html(V(C.get("previous"))),at(),C.get("preloading")&&t.each([tt(-1),tt(1)],(function(){var i=c[this],n=new Z(i,t.data(i,O)),o=n.get("href");o&&it(n,o)&&(o=nt(n,o),e.createElement("img").src=o)}))):T.hide(),C.get("iframe")?(i=C.get("createIframe"),C.get("scrolling")||(i.scrolling="no"),t(i).attr({src:C.get("href"),class:_+"Iframe"}).one("load",n).appendTo(u),$.one(U,(function(){i.src="//about:blank"})),C.get("fastIframe")&&t(i).trigger("load")):n(),"fade"===C.get("transition")?o.fadeTo(r,1,a):a())},"fade"===C.get("transition")?o.fadeTo(r,0,(function(){K.position(0,n)})):K.position(r,n)}},K.next=function(){!S&&c[1]&&(C.get("loop")||c[I+1])&&(I=tt(1),st(c[I]))},K.prev=function(){!S&&c[1]&&(C.get("loop")||I)&&(I=tt(-1),st(c[I]))},K.close=function(){L&&!F&&(F=!0,L=!1,ht(z),C.get("onCleanup"),g.unbind("."+_),n.fadeTo(C.get("fadeOut")||0,0),o.stop().fadeTo(C.get("fadeOut")||0,0,(function(){o.hide(),n.hide(),ht(U),u.remove(),setTimeout((function(){F=!1,ht(A),C.get("onClosed")}),1)})))},K.remove=function(){o&&(o.stop(),t[O].close(),o.stop(!1,!0).remove(),n.remove(),F=!1,o=null,t("."+j).removeData(O).removeClass(j),t(e).unbind("click."+_).unbind("keydown."+_))},K.element=function(){return t(C.el)},K.settings=B)}(jQuery,document,window);